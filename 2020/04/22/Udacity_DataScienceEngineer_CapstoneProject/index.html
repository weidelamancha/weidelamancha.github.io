<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="project," />










<meta name="description" content="Project DefinitionProject OverviewOnce every few days, Starbucks sends out an offer to users of the mobile app. An offer can be merely an advertisement for a drink or an actual offer such as a discoun">
<meta name="keywords" content="project">
<meta property="og:type" content="article">
<meta property="og:title" content="Udacity Data Science Engineer Nano Degree Capstone Project">
<meta property="og:url" content="http://yoursite.com/2020/04/22/Udacity_DataScienceEngineer_CapstoneProject/index.html">
<meta property="og:site_name" content="Yet Another Data Science Blog">
<meta property="og:description" content="Project DefinitionProject OverviewOnce every few days, Starbucks sends out an offer to users of the mobile app. An offer can be merely an advertisement for a drink or an actual offer such as a discoun">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-6.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-5.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-7.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-8.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-1.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-2.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-3.png">
<meta property="og:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-4.png">
<meta property="og:updated_time" content="2020-04-22T19:16:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Udacity Data Science Engineer Nano Degree Capstone Project">
<meta name="twitter:description" content="Project DefinitionProject OverviewOnce every few days, Starbucks sends out an offer to users of the mobile app. An offer can be merely an advertisement for a drink or an actual offer such as a discoun">
<meta name="twitter:image" content="http://yoursite.com/images/Udacity_DataScienceEngineer_CapstoneProject-6.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/04/22/Udacity_DataScienceEngineer_CapstoneProject/"/>




  <title>Udacity Data Science Engineer Nano Degree Capstone Project | Yet Another Data Science Blog</title>
  








  <!-- 我加的：
  <meta charset="utf-8">
  <link rel="stylesheet" href="mermaid.min.css"> -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Yet Another Data Science Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">A blog about data scicence techniques and applications in business and bio/medical research</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/22/Udacity_DataScienceEngineer_CapstoneProject/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Wei Wang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yet Another Data Science Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Udacity Data Science Engineer Nano Degree Capstone Project</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-22T00:00:00+03:00">
                2020-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Project-Definition"><a href="#Project-Definition" class="headerlink" title="Project Definition"></a>Project Definition</h1><h2 id="Project-Overview"><a href="#Project-Overview" class="headerlink" title="Project Overview"></a>Project Overview</h2><p>Once every few days, Starbucks sends out an offer to users of the mobile app. An offer can be merely an advertisement for a drink or an actual offer such as a discount or BOGO (buy one get one free). Every offer has a validity period before the offer expires. Some users might not receive any offer during certain weeks. </p>
<p>The data sets provided in the project contains simulated data that mimics customer behavior on the Starbucks rewards mobile app:</p>
<p><strong>portfolio.json</strong></p>
<ul>
<li>id (string) - offer id</li>
<li>offer_type (string) - type of offer ie BOGO, discount, informational</li>
<li>difficulty (int) - minimum required spend to complete an offer</li>
<li>reward (int) - reward given for completing an offer</li>
<li>duration (int) - time for offer to be open, in days</li>
<li>channels (list of strings)<br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-6.png" alt="porfolio"></li>
</ul>
<p><strong>profile.json</strong></p>
<ul>
<li>age (int) - age of the customer</li>
<li>became_member_on (int) - date when customer created an app account</li>
<li>gender (str) - gender of the customer (note some entries contain ‘O’ for other rather than M or F)</li>
<li>id (str) - customer id</li>
<li>income (float) - customer’s income<br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-5.png" alt="profile"></li>
</ul>
<p><strong>transcript.json</strong></p>
<ul>
<li>event (str) - record description (i.e. transaction, offer received, offer viewed, etc.)</li>
<li>person (str) - customer id</li>
<li>time (int) - time in hours since start of test. The data begins at time t=0</li>
<li>value - (dict of strings) - either an offer id or transaction amount depending on the record<br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-7.png" alt="transcript"></li>
</ul>
<h2 id="Problem-Statement"><a href="#Problem-Statement" class="headerlink" title="Problem Statement"></a>Problem Statement</h2><p>There are a lots of potentials for using the simulated data for predictions. This blog post only covers the prediction of whether an offer is required for a customer with given demographics to purchase.<br>The prediction is made with a simple neural network model using <a href="https://pytorch.org/" target="_blank" rel="noopener">PyTorch</a>. Then the model is deployed using AWS Lambda and API Gateway: so when a new customer login to the mobile app, a decision can be made whether an offer is needed to push to this customer depending on the member profile.<br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-8.png" alt="deployment"><br>(figure credit: Udacity)</p>
<a id="more"></a>
<h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><h2 id="Data-Exploration-and-Visualization"><a href="#Data-Exploration-and-Visualization" class="headerlink" title="Data Exploration and Visualization"></a>Data Exploration and Visualization</h2><p>First we would like to see how demographics are different in the 3 categories of customers who:</p>
<ul>
<li>never used offer in transaction (no_need_offer)</li>
<li>always used offer in transaction (need_offer)</li>
<li>sometimes used offer in transaction and sometimes without offer (both)</li>
</ul>
<p><strong>Age</strong><br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-1.png" alt="age"></p>
<p><strong>Gender</strong><br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-2.png" alt="gender"></p>
<p><strong>Income</strong><br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-3.png" alt="income"></p>
<p><strong>Days since membership started</strong><br><img src="/images/Udacity_DataScienceEngineer_CapstoneProject-4.png" alt="days since membership"></p>
<h1 id="Methodology"><a href="#Methodology" class="headerlink" title="Methodology"></a>Methodology</h1><h2 id="Data-preprocessing"><a href="#Data-preprocessing" class="headerlink" title="Data preprocessing"></a>Data preprocessing</h2><p>Model features include normalized age, gender (one-hot encoded), days since membership started, income data from member profile. Target to predict is whether the customer will purchased without any offer. Data is split into training and test sets.</p>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>All training and test data are uploaded to S3 bucket, and then used for model training and evaluation using neural network built with PyTorch. The binary classifier neural network is trained with Adam as optimizer and BCELoss as criterion.</p>
<h1 id="Results"><a href="#Results" class="headerlink" title="Results"></a>Results</h1><h2 id="Model-evaluation"><a href="#Model-evaluation" class="headerlink" title="Model evaluation"></a>Model evaluation</h2><p>The model is evaluated using accuracy and the result on test set is 0.81, which is not too bad.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><h2 id="Reflection"><a href="#Reflection" class="headerlink" title="Reflection"></a>Reflection</h2><p>This is a quick implementation from modeling to deployment, so only a simple prediction question is proposed and a simple model is used.</p>
<h2 id="Improvement"><a href="#Improvement" class="headerlink" title="Improvement"></a>Improvement</h2><p>There are still a lot of other things can be done to the modeling part, including:</p>
<ul>
<li>data engineering</li>
<li>hyperparameter tuning</li>
<li>adjustment of model evaluation metric according to business need</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/project/" rel="tag"># project</a>
          
        </div>
      

      
      
      

      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Wei Wang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Project-Definition"><span class="nav-number">1.</span> <span class="nav-text">Project Definition</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Project-Overview"><span class="nav-number">1.1.</span> <span class="nav-text">Project Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Problem-Statement"><span class="nav-number">1.2.</span> <span class="nav-text">Problem Statement</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Analysis"><span class="nav-number">2.</span> <span class="nav-text">Analysis</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Exploration-and-Visualization"><span class="nav-number">2.1.</span> <span class="nav-text">Data Exploration and Visualization</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Methodology"><span class="nav-number">3.</span> <span class="nav-text">Methodology</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-preprocessing"><span class="nav-number">3.1.</span> <span class="nav-text">Data preprocessing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Implementation"><span class="nav-number">3.2.</span> <span class="nav-text">Implementation</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Results"><span class="nav-number">4.</span> <span class="nav-text">Results</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Model-evaluation"><span class="nav-number">4.1.</span> <span class="nav-text">Model evaluation</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Conclusion"><span class="nav-number">5.</span> <span class="nav-text">Conclusion</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Reflection"><span class="nav-number">5.1.</span> <span class="nav-text">Reflection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Improvement"><span class="nav-number">5.2.</span> <span class="nav-text">Improvement</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wei Wang</span>

  
</div>


  <div class="powered-by">Powered by </div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info"></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  <div id="graphDiv"></div>

    <script src="/js/src/mermaidAPI.js"></script>

  


  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>


  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  


</body>
</html>
